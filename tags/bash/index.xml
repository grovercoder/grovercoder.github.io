<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Bash on GroverCoder</title>
    <link>https://grovercoder.github.io/tags/bash/</link>
    <description>Recent content in Bash on GroverCoder</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Thu, 03 Jun 2021 13:40:01 -0600</lastBuildDate>
    <atom:link href="https://grovercoder.github.io/tags/bash/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Generate GPG key without passphrase</title>
      <link>https://grovercoder.github.io/posts/2021-06-03_generate-gpg-key-without-passphrase/</link>
      <pubDate>Thu, 03 Jun 2021 13:40:01 -0600</pubDate>
      <guid>https://grovercoder.github.io/posts/2021-06-03_generate-gpg-key-without-passphrase/</guid>
      <description>&lt;h2 id=&#34;remove-prompts-from-your-command-line-scripts&#34;&gt;&#xA;  Remove prompts from your command line scripts&#xA;  &lt;a class=&#34;heading-link&#34; href=&#34;#remove-prompts-from-your-command-line-scripts&#34;&gt;&#xA;    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;Link to heading&#34;&gt;&lt;/i&gt;&#xA;    &lt;span class=&#34;sr-only&#34;&gt;Link to heading&lt;/span&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://cdn-images-1.medium.com/max/800/0*Ts3C5VxBpVhfYDtu&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;Photo by &lt;a href=&#34;https://unsplash.com/@bergerteam?utm_source=medium&amp;amp;utm_medium=referral&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Florian Berger&lt;/a&gt; on &lt;a href=&#34;https://unsplash.com?utm_source=medium&amp;amp;utm_medium=referral&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Unsplash&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;I had a recent task to automate building a custom Debian image, using some custom software wrapped up as &lt;strong&gt;*.deb&lt;/strong&gt; packages. These packages are stored in an local APT repository via &lt;a href=&#34;https://wikitech.wikimedia.org/wiki/Reprepro&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;reprepro&lt;/a&gt; (also created and populated by our script). The problem I kept running into was my script would prompt for the GPG key’s passphrase. This breaks the automation efforts we were striving for.&lt;/p&gt;</description>
    </item>
    <item>
      <title>How to get your IP from a BASH script</title>
      <link>https://grovercoder.github.io/posts/2021-05-25_how-to-get-your-ip-from-a-bash-script/</link>
      <pubDate>Tue, 25 May 2021 13:40:01 -0600</pubDate>
      <guid>https://grovercoder.github.io/posts/2021-05-25_how-to-get-your-ip-from-a-bash-script/</guid>
      <description>&lt;h2 id=&#34;for-when-you-have-many-network-interfaces&#34;&gt;&#xA;  For when you have many network interfaces&#xA;  &lt;a class=&#34;heading-link&#34; href=&#34;#for-when-you-have-many-network-interfaces&#34;&gt;&#xA;    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;Link to heading&#34;&gt;&lt;/i&gt;&#xA;    &lt;span class=&#34;sr-only&#34;&gt;Link to heading&lt;/span&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://cdn-images-1.medium.com/max/800/0*Jj6Ao6sraU2UJfiG&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;Photo by &lt;a href=&#34;https://unsplash.com/@isodme?utm_source=medium&amp;amp;utm_medium=referral&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Jonathan&lt;/a&gt; on &lt;a href=&#34;https://unsplash.com?utm_source=medium&amp;amp;utm_medium=referral&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Unsplash&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;the-shortversion&#34;&gt;&#xA;  The short version:&#xA;  &lt;a class=&#34;heading-link&#34; href=&#34;#the-shortversion&#34;&gt;&#xA;    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;Link to heading&#34;&gt;&lt;/i&gt;&#xA;    &lt;span class=&#34;sr-only&#34;&gt;Link to heading&lt;/span&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ip addr show &lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;ip route | awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/default/ { print $5 }&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt; | grep &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;inet&amp;#34;&lt;/span&gt; | head -n &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; | awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/inet/ {print $2}&amp;#39;&lt;/span&gt; | cut -d&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt; -f1&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;We use &lt;code&gt;ip route&lt;/code&gt; and &lt;code&gt;awk&lt;/code&gt; to determine the name of our default network interface&lt;/li&gt;&#xA;&lt;li&gt;We use &lt;code&gt;ip addr&lt;/code&gt; to get the IP details for that interface&lt;/li&gt;&#xA;&lt;li&gt;We grep for only the line(s) that indicate “inet”&lt;/li&gt;&#xA;&lt;li&gt;We then make sure we are only dealing with one line via the &lt;code&gt;head&lt;/code&gt; command. There should only be a single “inet” line to begin with, but it is possible there could be more than one.&lt;/li&gt;&#xA;&lt;li&gt;We use &lt;code&gt;awk&lt;/code&gt; to extract the IP address&lt;/li&gt;&#xA;&lt;li&gt;We use &lt;code&gt;cut&lt;/code&gt; to strip off the subnet information if it is present&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;This is a little verbose, but works very well for my use case. This can be done in a more concise manner with a little effort. Adopt this, or use another technique to suit your needs.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
